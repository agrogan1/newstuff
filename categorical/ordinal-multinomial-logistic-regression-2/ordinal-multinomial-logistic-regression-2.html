<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Andy Grogan-Kaylor">
<meta name="dcterms.date" content="2023-10-15">

<title>Ordinal and Multinomial Logistic Regression</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="ordinal-multinomial-logistic-regression-2_files/libs/clipboard/clipboard.min.js"></script>
<script src="ordinal-multinomial-logistic-regression-2_files/libs/quarto-html/quarto.js"></script>
<script src="ordinal-multinomial-logistic-regression-2_files/libs/quarto-html/popper.min.js"></script>
<script src="ordinal-multinomial-logistic-regression-2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="ordinal-multinomial-logistic-regression-2_files/libs/quarto-html/anchor.min.js"></script>
<link href="ordinal-multinomial-logistic-regression-2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ordinal-multinomial-logistic-regression-2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="ordinal-multinomial-logistic-regression-2_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="ordinal-multinomial-logistic-regression-2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="ordinal-multinomial-logistic-regression-2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="ordinal-multinomial-logistic-regression-2_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="ordinal-multinomial-logistic-regression-2_files/libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">


<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#the-data" id="toc-the-data" class="nav-link active" data-scroll-target="#the-data"><span class="header-section-number">1</span> The Data</a></li>
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup"><span class="header-section-number">2</span> Setup</a></li>
  <li><a href="#ordinal-logistic-regression" id="toc-ordinal-logistic-regression" class="nav-link" data-scroll-target="#ordinal-logistic-regression"><span class="header-section-number">3</span> Ordinal Logistic Regression</a></li>
  <li><a href="#multinomial-logistic-regression" id="toc-multinomial-logistic-regression" class="nav-link" data-scroll-target="#multinomial-logistic-regression"><span class="header-section-number">4</span> Multinomial Logistic Regression</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="ordinal-multinomial-logistic-regression-2.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Ordinal and Multinomial Logistic Regression</h1>
<p class="subtitle lead">A New Example Using Data From <em>Multilevel Thinking</em></p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Andy Grogan-Kaylor </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 15, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="the-data" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> The Data</h1>
<p>Data are simulated data on parent behaviors and child outcomes from <a href="https://agrogan1.github.io/multilevel-thinking/simulated-multi-country-data.html"><em>Multilevel Thinking</em></a>.</p>
<div class="cell" data-collectcode="true">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="st">"https://github.com/agrogan1/multilevel-thinking/raw/main/simulate-and-analyze-multilevel-data/simulated_multilevel_data.dta"</span>, <span class="kw">clear</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="kw">describe</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Contains data from https://github.com/agrogan1/multilevel-thinking/raw/main/simulate-and-analyze
&gt; -multilevel-data/simulated_multilevel_data.dta
 Observations:         3,000                  
    Variables:             8                  21 Apr 2023 12:38
------------------------------------------------------------------------------------------------
Variable      Storage   Display    Value
    name         type    format    label      Variable label
------------------------------------------------------------------------------------------------
country         float   %9.0g                 country id
HDI             float   %9.0g                 Human Development Index
family          float   %9.0g                 family id
id              str7    %9s                   unique country family id
group           float   %9.0g                 arbitrary group variable
physical_puni~t float   %9.0g                 physical punishment in past week
warmth          float   %9.0g                 parental warmth in past week
outcome         float   %9.0g                 beneficial outcome
------------------------------------------------------------------------------------------------
Sorted by: country  family</code></pre>
</div>
</div>
</section>
<section id="setup" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Setup</h1>
<p>We need to create a categorical outcome variable for demonstration purposes.</p>
<div class="cell" data-collectcode="true">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>* create an outcome_group <span class="kw">variable</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="kw">egen</span> outcome_group = <span class="fu">cut</span>(outcome), <span class="fu">group</span>(3) <span class="co">// divide outcome into groups</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="kw">label</span> <span class="kw">define</span> outcome_group 0 <span class="st">"low"</span> 1 <span class="st">"medium"</span> 2 <span class="st">"high"</span> <span class="co">// define value labels</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="kw">label</span> <span class="kw">values</span> outcome_group outcome_group <span class="co">// attach value labels</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> outcome_group</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>outcome_gro |
         up |      Freq.     Percent        Cum.
------------+-----------------------------------
        low |      1,000       33.33       33.33
     medium |      1,000       33.33       66.67
       high |      1,000       33.33      100.00
------------+-----------------------------------
      Total |      3,000      100.00</code></pre>
</div>
</div>
</section>
<section id="ordinal-logistic-regression" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Ordinal Logistic Regression</h1>
<blockquote class="blockquote">
<p>Because the data are clustered by countries, we will use the <code>, cluster(country)</code> option in each model. The <code>brant</code> command can be installed by typing <code>findit brant</code>, and installing the Long &amp; Freese <code>spost</code> utilities.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ologit</span> outcome_group physical_punishment warmth HDI i.<span class="fu">group</span>, <span class="kw">or</span> <span class="kw">cluster</span>(country) <span class="co">// ordinal logit</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>brant <span class="co">// brant test</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>margins, <span class="fu">at</span>(warmth = (1(1)7)) <span class="co">// margins at different values of warmth</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>marginsplot, <span class="bn">title</span>(<span class="st">"Predicted Probabilities From Ordinal Logit"</span>) <span class="co">/// </span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>plot(_outcome, labels(<span class="st">"low"</span> <span class="st">"medium"</span> <span class="st">"high"</span>)) <span class="co">// graph w/ manual labels</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="kw">graph</span> <span class="kw">export</span> myologit.png, <span class="kw">replace</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Iteration 0:  Log pseudolikelihood = -3295.8369  
Iteration 1:  Log pseudolikelihood = -3157.4676  
Iteration 2:  Log pseudolikelihood = -3157.0335  
Iteration 3:  Log pseudolikelihood = -3157.0333  

Ordered logistic regression                             Number of obs =  3,000
                                                        Wald chi2(4)  = 242.78
                                                        Prob &gt; chi2   = 0.0000
Log pseudolikelihood = -3157.0333                       Pseudo R2     = 0.0421

                                      (Std. err. adjusted for 30 clusters in country)
-------------------------------------------------------------------------------------
                    |               Robust
      outcome_group | Odds ratio   std. err.      z    P&gt;|z|     [95% conf. interval]
--------------------+----------------------------------------------------------------
physical_punishment |   .7962002   .0197074    -9.21   0.000     .7584964    .8357781
             warmth |   1.282995    .026044    12.28   0.000     1.232951    1.335069
                HDI |    1.00389   .0058436     0.67   0.505     .9925017    1.015409
            2.group |   1.322192   .0754851     4.89   0.000     1.182221    1.478735
--------------------+----------------------------------------------------------------
              /cut1 |    -.04647   .4096606                       -.84939    .7564499
              /cut2 |   1.446814    .426558                       .610776    2.282853
-------------------------------------------------------------------------------------
Note: Estimates are transformed only in the first equation to odds ratios.


Brant test of parallel regression assumption

                      |       chi2     p&gt;chi2      df
 ---------------------+------------------------------
                  All |       1.98      0.739       4
 ---------------------+------------------------------
  physical_punishment |       1.45      0.229       1
               warmth |       0.20      0.656       1
                  HDI |       0.05      0.818       1
              2.group |       0.18      0.672       1

A significant test statistic provides evidence that the parallel
regression assumption has been violated.


Predictive margins                                       Number of obs = 3,000
Model VCE: Robust

1._predict: Pr(outcome_group==0), predict(pr outcome(0))
2._predict: Pr(outcome_group==1), predict(pr outcome(1))
3._predict: Pr(outcome_group==2), predict(pr outcome(2))

1._at: warmth = 1
2._at: warmth = 2
3._at: warmth = 3
4._at: warmth = 4
5._at: warmth = 5
6._at: warmth = 6
7._at: warmth = 7

------------------------------------------------------------------------------
             |            Delta-method
             |     Margin   std. err.      z    P&gt;|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
_predict#_at |
        1 1  |   .4715116   .0239632    19.68   0.000     .4245446    .5184785
        1 2  |    .411902   .0219914    18.73   0.000     .3687996    .4550044
        1 3  |   .3547047   .0204707    17.33   0.000     .3145829    .3948265
        1 4  |   .3012864   .0194346    15.50   0.000     .2631953    .3393776
        1 5  |   .2526558   .0187163    13.50   0.000     .2159724    .2893391
        1 6  |   .2094156   .0180743    11.59   0.000     .1739907    .2448405
        1 7  |   .1717793   .0173168     9.92   0.000      .137839    .2057196
        2 1  |   .3210415   .0100789    31.85   0.000     .3012872    .3407958
        2 2  |   .3376888   .0091914    36.74   0.000     .3196739    .3557037
        2 3  |   .3465153   .0092644    37.40   0.000     .3283575    .3646731
        2 4  |   .3467361    .010075    34.42   0.000     .3269895    .3664827
        2 5  |   .3383307   .0114619    29.52   0.000     .3158658    .3607955
        2 6  |   .3220464   .0133672    24.09   0.000     .2958472    .3482456
        2 7  |   .2992734   .0156422    19.13   0.000     .2686153    .3299314
        3 1  |    .207447   .0183764    11.29   0.000     .1714298    .2434641
        3 2  |   .2504092   .0196723    12.73   0.000     .2118522    .2889661
        3 3  |     .29878    .021223    14.08   0.000     .2571838    .3403763
        3 4  |   .3519775   .0231631    15.20   0.000     .3065787    .3973762
        3 5  |   .4090136   .0255026    16.04   0.000     .3590294    .4589977
        3 6  |    .468538   .0280772    16.69   0.000     .4135078    .5235682
        3 7  |   .5289473   .0305829    17.30   0.000      .469006    .5888886
------------------------------------------------------------------------------


Variables that uniquely identify margins: warmth

file
    /Users/agrogan/Desktop/GitHub/newstuff/categorical/ordinal-multinomial-logistic-regression
    &gt; -2/myologit.png saved as PNG format</code></pre>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="myologit.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption class="figure-caption"><code>marginsplot</code> from <code>ologit</code></figcaption>
</figure>
</div>
</section>
<section id="multinomial-logistic-regression" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Multinomial Logistic Regression</h1>
<blockquote class="blockquote">
<p>Because the <em>Brant</em> test was insignificant, the results below are likely to look similar. Imagine, however, if the <em>Brant</em> test were statistically significant, suggesting that we should estimate separate regression coefficients for each value of the outcome. Imagine, in addition, if we were estimating an outcome that were truly multinomial in nature, such as <em>post-secondary</em> education pursued: <em>none</em>, <em>vocational</em>, <em>university</em>. For heuristic purposes, we will relabel the outcome accordingly.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">label</span> <span class="kw">define</span> outcome_group2 0 <span class="st">"none"</span> 1 <span class="st">"vocational"</span> 2 <span class="st">"university"</span> <span class="co">// define value labels</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="kw">label</span> <span class="kw">values</span> outcome_group outcome_group2 <span class="co">// attach NEW value labels</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> outcome_group</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="kw">mlogit</span> outcome_group physical_punishment warmth HDI i.<span class="fu">group</span>, rr <span class="kw">cluster</span>(country)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>margins, <span class="fu">at</span>(warmth = (1(1)7)) <span class="co">// margins at different values of warmth</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>marginsplot, <span class="bn">title</span>(<span class="st">"Predicted Probabilities From Multinomial Logit"</span>) <span class="co">///</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>plot(_outcome, labels(<span class="st">"none"</span> <span class="st">"vocational"</span> <span class="st">"university"</span>)) <span class="co">// graph w/ manual labels</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="kw">graph</span> <span class="kw">export</span> mymlogit.png, <span class="kw">replace</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>outcome_gro |
         up |      Freq.     Percent        Cum.
------------+-----------------------------------
       none |      1,000       33.33       33.33
 vocational |      1,000       33.33       66.67
 university |      1,000       33.33      100.00
------------+-----------------------------------
      Total |      3,000      100.00


Iteration 0:  Log pseudolikelihood = -3295.8369  
Iteration 1:  Log pseudolikelihood = -3159.3121  
Iteration 2:  Log pseudolikelihood = -3157.2541  
Iteration 3:  Log pseudolikelihood = -3157.2532  
Iteration 4:  Log pseudolikelihood = -3157.2532  

Multinomial logistic regression                         Number of obs =  3,000
                                                        Wald chi2(8)  = 216.92
                                                        Prob &gt; chi2   = 0.0000
Log pseudolikelihood = -3157.2532                       Pseudo R2     = 0.0420

                                      (Std. err. adjusted for 30 clusters in country)
-------------------------------------------------------------------------------------
                    |               Robust
      outcome_group |        RRR   std. err.      z    P&gt;|z|     [95% conf. interval]
--------------------+----------------------------------------------------------------
none                |  (base outcome)
--------------------+----------------------------------------------------------------
vocational          |
physical_punishment |   .8284144   .0268834    -5.80   0.000     .7773647    .8828166
             warmth |   1.172042   .0323704     5.75   0.000     1.110284    1.237235
                HDI |   1.003045   .0039244     0.78   0.437     .9953822    1.010766
            2.group |   1.244621   .1034633     2.63   0.008     1.057495     1.46486
              _cons |   .7248303   .2045156    -1.14   0.254     .4169312     1.26011
--------------------+----------------------------------------------------------------
university          |
physical_punishment |    .733425   .0260105    -8.74   0.000     .6841767    .7862183
             warmth |   1.402776   .0404291    11.74   0.000     1.325733    1.484296
                HDI |   1.005061   .0080327     0.63   0.528     .9894402    1.020929
            2.group |   1.454744   .1119325     4.87   0.000     1.251102    1.691534
              _cons |   .3950266    .227379    -1.61   0.107     .1278413    1.220623
-------------------------------------------------------------------------------------
Note: _cons estimates baseline relative risk for each outcome.


Predictive margins                                       Number of obs = 3,000
Model VCE: Robust

1._predict: Pr(outcome_group==none), predict(pr outcome(0))
2._predict: Pr(outcome_group==vocational), predict(pr outcome(1))
3._predict: Pr(outcome_group==university), predict(pr outcome(2))

1._at: warmth = 1
2._at: warmth = 2
3._at: warmth = 3
4._at: warmth = 4
5._at: warmth = 5
6._at: warmth = 6
7._at: warmth = 7

------------------------------------------------------------------------------
             |            Delta-method
             |     Margin   std. err.      z    P&gt;|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
_predict#_at |
        1 1  |   .4655491   .0256453    18.15   0.000     .4152852     .515813
        1 2  |   .4108856   .0225268    18.24   0.000     .3667338    .4550374
        1 3  |   .3566849    .020455    17.44   0.000     .3165938    .3967761
        1 4  |   .3043247   .0194768    15.62   0.000     .2661507    .3424986
        1 5  |   .2551027   .0192162    13.28   0.000     .2174397    .2927657
        1 6  |    .210102   .0191257    10.99   0.000     .1726162    .2475877
        1 7  |    .170087   .0187808     9.06   0.000     .1332774    .2068966
        2 1  |   .3312655   .0149681    22.13   0.000     .3019286    .3606025
        2 2  |   .3403628    .010943    31.10   0.000      .318915    .3618106
        2 3  |   .3438888   .0090929    37.82   0.000     .3260671    .3617104
        2 4  |   .3414688    .010569    32.31   0.000     .3207539    .3621838
        2 5  |   .3331582    .014179    23.50   0.000     .3053679    .3609485
        2 6  |   .3194468   .0184628    17.30   0.000     .2832603    .3556333
        2 7  |    .301194   .0227261    13.25   0.000     .2566517    .3457363
        3 1  |   .2031854   .0183179    11.09   0.000     .1672829    .2390879
        3 2  |   .2487516   .0194812    12.77   0.000     .2105691    .2869341
        3 3  |   .2994263   .0210267    14.24   0.000     .2582148    .3406379
        3 4  |   .3542065   .0231943    15.27   0.000     .3087464    .3996666
        3 5  |   .4117391   .0260214    15.82   0.000     .3607381    .4627401
        3 6  |   .4704512   .0292975    16.06   0.000     .4130291    .5278733
        3 7  |    .528719   .0326555    16.19   0.000     .4647153    .5927227
------------------------------------------------------------------------------


Variables that uniquely identify margins: warmth

file
    /Users/agrogan/Desktop/GitHub/newstuff/categorical/ordinal-multinomial-logistic-regression
    &gt; -2/mymlogit.png saved as PNG format</code></pre>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="mymlogit.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption class="figure-caption"><code>marginsplot</code> from <code>mlogit</code></figcaption>
</figure>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>